# üöÄ DNS Server - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–†—É—Å—Å–∫–∏–π)

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ü—Ä–æ–±–ª–µ–º–∞ —Å SSH? –ù–∞—á–Ω–∏—Ç–µ –∑–¥–µ—Å—å](#-–ø—Ä–æ–±–ª–µ–º–∞-—Å-ssh-–Ω–∞—á–Ω–∏—Ç–µ-–∑–¥–µ—Å—å)
- [–ü–æ–ª–Ω—ã–π –¥–µ–±–∞–≥ SSH](#-–ø–æ–ª–Ω—ã–π-–¥–µ–±–∞–≥-ssh)
- [–†–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º](#-—Ä–µ—à–µ–Ω–∏—è-–ø—Ä–æ–±–ª–µ–º)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)

---

## üÜò –ü—Ä–æ–±–ª–µ–º–∞ —Å SSH? –ù–∞—á–Ω–∏—Ç–µ –∑–¥–µ—Å—å!

### –ù–µ –º–æ–∂–µ—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –ø–æ –ø–∞—Ä–æ–ª—é?

```bash
ssh ubuntu@192.168.200.100
# –ü–æ–ª—É—á–∞–µ—Ç–µ: Permission denied (publickey)
# –ü–∞—Ä–æ–ª—å –Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è?
```

**‚û°Ô∏è –ó–ê–ü–£–°–¢–ò–¢–ï –î–ï–ë–ê–ì:**

```bash
cd ~/dns_server
bash scripts/debug-ssh-full.sh
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç **–í–°–Å** —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å SSH –∏ **–¢–û–ß–ù–û –°–ö–ê–ñ–ï–¢** –≤ —á–µ–º –ø—Ä–æ–±–ª–µ–º–∞.

---

## üîç –ü–æ–ª–Ω—ã–π –¥–µ–±–∞–≥ SSH

–°–∫—Ä–∏–ø—Ç `debug-ssh-full.sh` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç 8 —à–∞–≥–æ–≤:

1. ‚úÖ **–°—Ç–∞—Ç—É—Å VM** - –∑–∞–ø—É—â–µ–Ω–∞ –ª–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞
2. ‚úÖ **–°–µ—Ç—å** - –¥–æ—Å—Ç—É–ø–Ω–∞ –ª–∏ VM (ping, –ø–æ—Ä—Ç 22)
3. ‚úÖ **SSH –∫–ª—é—á–∏** - –µ—Å—Ç—å –ª–∏ –æ–Ω–∏ –ª–æ–∫–∞–ª—å–Ω–æ
4. ‚úÖ **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** - –¥–µ—Ç–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ –≤—Å–µ—Ö —à–∞–≥–æ–≤ SSH
5. ‚úÖ **–ö–ª—é—á —Ä–∞–±–æ—Ç–∞–µ—Ç?** - —Ç–µ—Å—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ –∫–ª—é—á—É
6. ‚úÖ **SSH –∫–æ–Ω—Ñ–∏–≥** - –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å —Å–µ—Ä–≤–µ—Ä–∞
7. ‚úÖ **–ü–∞—Ä–æ–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç?** - —Ç–µ—Å—Ç –ø–∞—Ä–æ–ª—å–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
8. ‚úÖ **–î–∏–∞–≥–Ω–æ–∑** - —á—Ç–æ –Ω–µ —Ç–∞–∫ –∏ –∫–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:

```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                  –ò–¢–û–ì–û–í–´–ô –û–¢–ß–ï–¢                        ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

–ö–û–ú–ü–û–ù–ï–ù–¢                           –°–¢–ê–¢–£–°
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
VM –∑–∞–ø—É—â–µ–Ω–∞:                        ‚úì –î–ê
–°–µ—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∞ (ping):               ‚úì –î–ê
SSH –ø–æ—Ä—Ç –æ—Ç–∫—Ä—ã—Ç:                    ‚úì –î–ê
SSH –∫–ª—é—á –Ω–∞–π–¥–µ–Ω:                    ‚úì –î–ê
–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ –∫–ª—é—á—É:            ‚úì –†–ê–ë–û–¢–ê–ï–¢
–ü–∞—Ä–æ–ª—å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:           ‚úó –ù–ï –†–ê–ë–û–¢–ê–ï–¢

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

–û–°–ù–û–í–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê: –ü–∞—Ä–æ–ª—å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞

–ü–†–ò–ß–ò–ù–ê:
‚Ä¢ Cloud-init —Å–æ–∑–¥–∞–ª /etc/ssh/sshd_config.d/50-cloud-init.conf
‚Ä¢ –≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç: PasswordAuthentication no
‚Ä¢ SSH —á–∏—Ç–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥–∏ –≤ –∞–ª—Ñ–∞–≤–∏—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
‚Ä¢ –ü–µ—Ä–≤–∞—è –Ω–∞–π–¥–µ–Ω–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–∏–≤–∞ –ø–æ–±–µ–∂–¥–∞–µ—Ç

–†–ï–®–ï–ù–ò–ï: bash scripts/fix-existing-vm-ssh.sh
```

---

## üõ†Ô∏è –†–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å VM (–°–ê–ú–´–ô –ü–†–û–°–¢–û–ô) ‚≠ê

–ù–æ–≤–∞—è VM –±—É–¥–µ—Ç —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π:

```bash
cd ~/dns_server/examples/local
bash ../../scripts/recreate-vm.sh
```

**–í—Ä–µ–º—è:** ~2 –º–∏–Ω—É—Ç—ã

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—É—é VM
2. –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π SSH –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
3. –ñ–¥–µ—Ç 60 —Å–µ–∫—É–Ω–¥ –ø–æ–∫–∞ VM –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è

**–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ:**
```bash
ssh ubuntu@192.168.200.100
# –ü–∞—Ä–æ–ª—å: ubuntu
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é VM

–¢—Ä–µ–±—É–µ—Ç—Å—è: SSH –∫–ª—é—á (~/.ssh/id_rsa)

```bash
cd ~/dns_server
bash scripts/fix-existing-vm-ssh.sh
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ VM –ø–æ SSH –∫–ª—é—á—É
2. –ö–æ–ø–∏—Ä—É–µ—Ç —Å–∫—Ä–∏–ø—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
3. –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç SSH –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç SSH

**–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ:**
```bash
ssh ubuntu@192.168.200.100
# –ü–∞—Ä–æ–ª—å: ubuntu
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å VM

–ï—Å–ª–∏ –Ω–µ—Ç SSH –∫–ª—é—á–∞:

```bash
sudo virsh console dns-server
```

**–õ–æ–≥–∏–Ω:** ubuntu
**–ü–∞—Ä–æ–ª—å:** ubuntu

–ó–∞—Ç–µ–º –Ω–∞ VM –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
sudo tee /etc/ssh/sshd_config.d/01-custom-auth.conf > /dev/null <<'EOF'
PasswordAuthentication yes
PermitRootLogin yes
KbdInteractiveAuthentication yes
PubkeyAuthentication yes
UsePAM yes
EOF

sudo rm -f /etc/ssh/sshd_config.d/50-cloud-init.conf
sudo systemctl restart ssh
```

**–í—ã—Ö–æ–¥ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏:** `Ctrl + ]`

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –≥–∞–π–¥—ã:

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| **RUSSIAN_SSH_FIX.md** | üá∑üá∫ –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é SSH (–†—É—Å—Å–∫–∏–π) |
| **HOW_TO_DEBUG_SSH.md** | üîç –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–µ–±–∞–≥—É SSH –ø—Ä–æ–±–ª–µ–º |
| **SSH_PASSWORD_AUTH_FIX.md** | üîß –î–µ—Ç–∞–ª—å–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (English) |

### –°–∫—Ä–∏–ø—Ç—ã:

| –°–∫—Ä–∏–ø—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|--------|------------|
| **debug-ssh-full.sh** | üîç –ü–æ–ª–Ω—ã–π –¥–µ–±–∞–≥ SSH (8 —à–∞–≥–æ–≤ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏) |
| **recreate-vm.sh** | üîÑ –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å VM —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏ |
| **fix-existing-vm-ssh.sh** | üîß –ò—Å–ø—Ä–∞–≤–∏—Ç—å SSH –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π VM |
| **fix-ssh-password-auth.sh** | üõ†Ô∏è –†—É—á–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ SSH (–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ VM) |

---

## üéØ –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:

```bash
# –ü–æ –ø–∞—Ä–æ–ª—é (–µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç)
ssh ubuntu@192.168.200.100

# –ü–æ SSH –∫–ª—é—á—É
ssh -i ~/.ssh/id_rsa ubuntu@192.168.200.100

# –ß–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å
sudo virsh console dns-server
```

### –î–µ–±–∞–≥:

```bash
# –ü–æ–ª–Ω—ã–π –¥–µ–±–∞–≥ SSH
bash scripts/debug-ssh-full.sh

# SSH —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
ssh -vvv ubuntu@192.168.200.100

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞
nc -zv 192.168.200.100 22
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ VM:

```bash
# –°—Ç–∞—Ç—É—Å
sudo virsh list --all

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
sudo virsh start dns-server

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
sudo virsh shutdown dns-server

# IP –∞–¥—Ä–µ—Å
sudo virsh domifaddr dns-server
```

---

## üîç –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### "Permission denied (publickey)"

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–∞—Ä–æ–ª–∏ –Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è, —Ç–æ–ª—å–∫–æ –∫–ª—é—á–∏.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
bash scripts/debug-ssh-full.sh  # –°–Ω–∞—á–∞–ª–∞ –¥–µ–±–∞–≥
bash scripts/recreate-vm.sh     # –ó–∞—Ç–µ–º –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å VM
```

---

### "Connection refused"

**–ü—Ä–æ–±–ª–µ–º–∞:** SSH —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
sudo virsh console dns-server
# –õ–æ–≥–∏–Ω: ubuntu / ubuntu
sudo systemctl start ssh
```

---

### "Connection timed out"

**–ü—Ä–æ–±–ª–µ–º–∞:** VM –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
sudo virsh list --all           # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
sudo virsh start dns-server     # –ó–∞–ø—É—Å—Ç–∏—Ç—å –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
ping 192.168.200.100            # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ç—å
```

---

### "Host key verification failed"

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–ª—é—á —Ö–æ—Å—Ç–∞ –∏–∑–º–µ–Ω–∏–ª—Å—è (VM –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∞).

**–†–µ—à–µ–Ω–∏–µ:**
```bash
ssh-keygen -R 192.168.200.100
```

---

## üí° FAQ

### Q: –ö–∞–∫–æ–π –ø–∞—Ä–æ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é?
**A:** `ubuntu`

### Q: –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å?
**A:** –í —Ñ–∞–π–ª–µ `examples/local/variables.tf` –∏–∑–º–µ–Ω–∏—Ç–µ `ubuntu_password`

### Q: –ü–æ—á–µ–º—É –Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –ø–∞—Ä–æ–ª—å?
**A:** –ü–æ—Ç–æ–º—É —á—Ç–æ `PasswordAuthentication no` –≤ SSH –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `bash scripts/debug-ssh-full.sh` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.

### Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SSH –∫–ª—é—á –∏ –ø–∞—Ä–æ–ª—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ?
**A:** –î–∞! –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –æ–±–∞ —Å–ø–æ—Å–æ–±–∞.

### Q: –ì–¥–µ –ª–æ–≥–∏ SSH?
**A:**
```bash
ssh -i ~/.ssh/id_rsa ubuntu@192.168.200.100 'sudo journalctl -u ssh -n 50'
```

### Q: –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–∞—Ä–æ–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã?
**A:**
```bash
ssh -i ~/.ssh/id_rsa ubuntu@192.168.200.100 'sudo sshd -T | grep passwordauthentication'
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: passwordauthentication yes
```

---

## üöÄ –° —á–µ–≥–æ –Ω–∞—á–∞—Ç—å?

### –ù–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞:

```bash
cd ~/dns_server/examples/local
terraform init
terraform apply
```

### –ü—Ä–æ–±–ª–µ–º–∞ —Å SSH:

```bash
cd ~/dns_server
bash scripts/debug-ssh-full.sh
```

### –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å VM:

```bash
cd ~/dns_server/examples/local
bash ../../scripts/recreate-vm.sh
```

---

## üìñ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–û—Å–Ω–æ–≤–Ω–æ–π README](../README.md) - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- [SSH Password Auth Fix](SSH_PASSWORD_AUTH_FIX.md) - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [How to Debug SSH](HOW_TO_DEBUG_SSH.md) - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–µ–±–∞–≥—É

---

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–±–∞–≥ —Å–∫—Ä–∏–ø—Ç –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤—ã–≤–æ–¥:
   ```bash
   bash scripts/debug-ssh-full.sh > debug-output.txt
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ cloud-init:
   ```bash
   sudo virsh console dns-server
   # –õ–æ–≥–∏–Ω: ubuntu / ubuntu
   sudo tail -100 /var/log/cloud-init-output.log
   ```

3. –û—Ç–∫—Ä–æ–π—Ç–µ issue —Å –≤—ã–≤–æ–¥–æ–º –¥–µ–±–∞–≥–∞

---

**–í–µ—Ä—Å–∏—è:** 1.0
**–î–∞—Ç–∞:** 2025-11-21
**–ê–≤—Ç–æ—Ä:** Senior DevOps Engineer

---

## ‚ö° TL;DR (–û—á–µ–Ω—å –∫—Ä–∞—Ç–∫–æ)

```bash
# –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç SSH —Å –ø–∞—Ä–æ–ª–µ–º?
cd ~/dns_server
bash scripts/debug-ssh-full.sh        # –î–µ–±–∞–≥
bash scripts/recreate-vm.sh           # –ò—Å–ø—Ä–∞–≤–∏—Ç—å
ssh ubuntu@192.168.200.100            # –ü–∞—Ä–æ–ª—å: ubuntu
```
